# LangGraph ReAct 에이전트 템플릿

[![CI](https://github.com/langchain-ai/react-agent/actions/workflows/unit-tests.yml/badge.svg)](https://github.com/langchain-ai/react-agent/actions/workflows/unit-tests.yml)
[![Integration Tests](https://github.com/langchain-ai/react-agent/actions/workflows/integration-tests.yml/badge.svg)](https://github.com/langchain-ai/react-agent/actions/workflows/integration-tests.yml)
[![Open in - LangGraph Studio](https://img.shields.io/badge/Open_in-LangGraph_Studio-00324d.svg?logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NS4zMzMiIGhlaWdodD0iODUuMzMzIiB2ZXJzaW9uPSIxLjAiIHZpZXdCb3g9IjAgMCA2NCA2NCI+PHBhdGggZD0iTTEzIDcuOGMtNi4zIDMuMS03LjEgNi4zLTYuOCAyNS43LjQgMjQuNi4zIDI0LjUgMjUuOSAyNC41QzU3LjUgNTggNTggNTcuNSA1OCAzMi4zIDU4IDcuMyA1Ni43IDYgMzIgNmMtMTIuOCAwLTE2LjEuMy0xOSAxLjhtMzcuNiAxNi42YzIuOCAyLjggMy40IDQuMiAzLjQgNy42cy0uNiA0LjgtMy40IDcuNkw0Ny4yIDQzSDE2LjhsLTMuNC0zLjRjLTQuOC00LjgtNC44LTEwLjQgMC0xNS4ybDMuNC0zLjRoMzAuNHoiLz48cGF0aCBkPSJNMTguOSAyNS42Yy0xLjEgMS4zLTEgMS43LjQgMi41LjkuNiAxLjcgMS44IDEuNyAyLjcgMCAxIC43IDIuOCAxLjYgNC4xIDEuNCAxLjkgMS40IDIuNS4zIDMuMi0xIC42LS42LjkgMS40LjkgMS41IDAgMi43LS41IDIuNy0xIDAtLjYgMS4xLS44IDIuNi0uNGwyLjYuNy0xLjgtMi45Yy01LjktOS4zLTkuNC0xMi4zLTExLjUtOS44TTM5IDI2YzAgMS4xLS45IDIuNS0yIDMuMi0yLjQgMS41LTIuNiAzLjQtLjUgNC4yLjguMyAyIDEuNyAyLjUgMy4xLjYgMS41IDEuNCAyLjMgMiAyIDEuNS0uOSAxLjItMy41LS40LTMuNS0yLjEgMC0yLjgtMi44LS44LTMuMyAxLjYtLjQgMS42LS41IDAtLjYtMS4xLS4xLTEuNS0uNi0xLjItMS42LjctMS43IDMuMy0yLjEgMy41LS41LjEuNS4yIDEuNi4zIDIuMiAwIC43LjkgMS40IDEuOSAxLjYgMi4xLjQgMi4zLTIuMy4yLTMuMi0uOC0uMy0yLTEuNy0yLjUtMy4xLTEuMS0zLTMtMy4zLTMtLjUiLz48L3N2Zz4=)](https://langgraph-studio.vercel.app/templates/open?githubUrl=https://github.com/langchain-ai/react-agent)

이 템플릿은 [LangGraph](https://github.com/langchain-ai/langgraph)를 사용하여 구현된 [ReAct 에이전트](https://arxiv.org/abs/2210.03629)를 보여주며, [LangGraph Studio](https://github.com/langchain-ai/langgraph-studio)용으로 설계되었습니다. ReAct 에이전트는 간단하고 원형적인 에이전트로, 다양한 도구로 유연하게 확장될 수 있습니다.

![LangGraph 스튜디오 UI의 그래프 뷰](./static/studio_ui.png)

`src/react_agent/graph.py`에 정의된 핵심 로직은 사용자 쿼리에 대해 반복적으로 추론하고 작업을 실행하는 유연한 ReAct 에이전트를 보여주며, 복잡한 문제 해결 작업에 대한 이 접근 방식의 강력함을 보여줍니다.

## 기능

ReAct 에이전트는:

1. 사용자 **쿼리**를 입력으로 받습니다
2. 쿼리에 대해 추론하고 작업을 결정합니다
3. 사용 가능한 도구를 사용하여 선택한 작업을 실행합니다
4. 작업 결과를 관찰합니다
5. 최종 답변을 제공할 수 있을 때까지 2-4단계를 반복합니다

기본적으로 기본 도구 세트로 설정되어 있지만, 다양한 사용 사례에 맞게 사용자 정의 도구로 쉽게 확장할 수 있습니다.

## 시작하기

[LangGraph Studio를 이미 설치](https://github.com/langchain-ai/langgraph-studio?tab=readme-ov-file#download)했다고 가정하고, 설정하려면:

1. `.env` 파일을 생성합니다.

```bash
cp .env.example .env
```

2. `.env` 파일에 필요한 API 키를 정의합니다.

주로 사용되는 [검색 도구](./src/react_agent/tools.py) [^1]는 [Tavily](https://tavily.com/)입니다. [여기](https://app.tavily.com/sign-in)에서 API 키를 생성하세요.

<!--
Setup instruction auto-generated by `langgraph template lock`. DO NOT EDIT MANUALLY.
-->

### 모델 설정

`model`의 기본값은 아래와 같습니다:

```yaml
model: anthropic/claude-3-5-sonnet-20240620
```

설정을 위해 아래 지침을 따르거나, 추가 옵션 중 하나를 선택하세요.

#### Anthropic

Anthropic의 채팅 모델을 사용하려면:

1. 아직 없다면 [Anthropic API 키](https://console.anthropic.com/)에 가입하세요.
2. API 키를 얻은 후, `.env` 파일에 추가하세요:

```
ANTHROPIC_API_KEY=your-api-key
```
#### OpenAI

OpenAI의 채팅 모델을 사용하려면:

1. [OpenAI API 키](https://platform.openai.com/signup)에 가입하세요.
2. API 키를 얻은 후, `.env` 파일에 추가하세요:
```
OPENAI_API_KEY=your-api-key
```





<!--
End setup instructions
-->


3. 코드에서 원하는 대로 사용자 정의하세요.
4. LangGraph Studio에서 폴더를 여세요!

## 사용자 정의 방법

1. **새 도구 추가**: [tools.py](./src/react_agent/tools.py)에 새 도구를 추가하여 에이전트의 기능을 확장하세요. 이는 특정 작업을 수행하는 모든 Python 함수가 될 수 있습니다.
2. **다른 모델 선택**: 기본적으로 Anthropic의 Claude 3 Sonnet을 사용합니다. 구성을 통해 `provider/model-name`을 사용하여 호환되는 채팅 모델을 선택할 수 있습니다. 예: `openai/gpt-4-turbo-preview`.
3. **프롬프트 사용자 정의**: [prompts.py](./src/react_agent/prompts.py)에 기본 시스템 프롬프트를 제공합니다. 스튜디오의 구성을 통해 이를 쉽게 업데이트할 수 있습니다.

또한 다음과 같은 방법으로 이 템플릿을 빠르게 확장할 수 있습니다:

- [graph.py](./src/react_agent/graph.py)에서 에이전트의 추론 과정 수정.
- ReAct 루프를 조정하거나 에이전트의 의사 결정 과정에 추가 단계 추가.

## 개발

그래프를 반복하는 동안 과거 상태를 편집하고 과거 상태에서 앱을 다시 실행하여 특정 노드를 디버깅할 수 있습니다. 로컬 변경 사항은 핫 리로드를 통해 자동으로 적용됩니다. 에이전트가 도구를 호출하기 전에 중단을 추가하거나, `src/react_agent/configuration.py`의 기본 시스템 메시지를 페르소나를 취하도록 업데이트하거나, 추가 노드와 에지를 추가해 보세요!

후속 요청은 동일한 스레드에 추가됩니다. 오른쪽 상단의 `+` 버튼을 사용하여 이전 기록을 지우고 완전히 새로운 스레드를 만들 수 있습니다.

[LangGraph](https://github.com/langchain-ai/langgraph)에 대한 최신(구축 중인) 문서를 여기에서 찾을 수 있으며, 예제 및 기타 참조 자료가 포함되어 있습니다. 이러한 가이드를 사용하면 사용 사례에 맞게 여기에서 적응할 올바른 패턴을 선택하는 데 도움이 될 수 있습니다.

LangGraph Studio는 또한 더 심층적인 추적 및 팀원과의 협업을 위해 [LangSmith](https://smith.langchain.com/)와 통합됩니다.

[^1]: https://python.langchain.com/docs/concepts/#tools

<!--
Configuration auto-generated by `langgraph template lock`. DO NOT EDIT MANUALLY.
{
  "config_schemas": {
    "agent": {
      "type": "object",
      "properties": {
        "model": {
          "type": "string",
          "default": "anthropic/claude-3-5-sonnet-20240620",
          "description": "The name of the language model to use for the agent's main interactions. Should be in the form: provider/model-name.",
          "environment": [
            {
              "value": "anthropic/claude-1.2",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "anthropic/claude-2.0",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "anthropic/claude-2.1",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "anthropic/claude-3-5-sonnet-20240620",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "anthropic/claude-3-haiku-20240307",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "anthropic/claude-3-opus-20240229",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "anthropic/claude-3-sonnet-20240229",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "anthropic/claude-instant-1.2",
              "variables": "ANTHROPIC_API_KEY"
            },
            {
              "value": "openai/gpt-3.5-turbo",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-3.5-turbo-0125",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-3.5-turbo-0301",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-3.5-turbo-0613",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-3.5-turbo-1106",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-3.5-turbo-16k",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-3.5-turbo-16k-0613",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-0125-preview",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-0314",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-0613",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-1106-preview",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-32k",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-32k-0314",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-32k-0613",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-turbo",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-turbo-preview",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4-vision-preview",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4o",
              "variables": "OPENAI_API_KEY"
            },
            {
              "value": "openai/gpt-4o-mini",
              "variables": "OPENAI_API_KEY"
            }
          ]
        }
      },
      "environment": [
        "TAVILY_API_KEY"
      ]
    }
  }
}
-->